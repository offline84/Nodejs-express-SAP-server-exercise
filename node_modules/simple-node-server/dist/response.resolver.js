"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const http_status_1 = require("./lib/enums/http.status");
const response_type_1 = require("./lib/enums/response.type");
class ResponseResolver {
    constructor() {
        this.redirectHttpStatusCodes = [301, 302, 307, 308];
    }
    /**
     * resolve response to standard http response
     * @param response
     * @param nodeletResponse
     * @param resolve
     */
    resolveResponse(response, nodeletResponse) {
        return Promise.resolve({ outgoing: response_type_1.ResponseType.RESPONSE, response: response, nodeletResponse: nodeletResponse });
    }
    /**
     * resolve response to redirect
     * @param response
     * @param nodeletResponse
     * @param resolve
     */
    resolveRedirect(response, nodeletResponse) {
        nodeletResponse.httpStatus = this.redirectHttpStatusCodes.includes(nodeletResponse.httpStatus) ? nodeletResponse.httpStatus : http_status_1.HttpStatus.FOUND;
        return Promise.resolve({ outgoing: response_type_1.ResponseType.REDIRECT, response: response, nodeletResponse: nodeletResponse });
    }
    /**
     * resolve response to piped file
     * @param response
     * @param nodeletResponse
     * @param resolve
     */
    resolveFilePipe(response, nodeletResponse) {
        return Promise.resolve({ outgoing: response_type_1.ResponseType.PIPE, response: response, nodeletResponse: nodeletResponse });
    }
}
exports.ResponseResolver = ResponseResolver;
